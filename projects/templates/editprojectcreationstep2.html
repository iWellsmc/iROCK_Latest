{% extends "base.html" %}
{% load widget_tweaks %}
{% load static %}
{% load custom_tags %}
{% block content %}
<div class="row">
    <div class="col-12 text-end">
        <button class="btn btn-clr waves-effect waves-float waves-light" ><a href="{% url 'projects:projectlist'%}">Back</a></button>
    </div>
</div>
            <h3 class="from-head">Edit Project Discipline</h3>
            <form autocomplete="off" method="post" novalidate id="projectstep_edit" class="form-txt">
                {% csrf_token %}
            <section class="crt-table1 scroll-main-prj1 inside-scroll">
                <div class="row par-top-arrow">
                    <button type="button" class="scroll-top-proj"></button>
                    
                    <div id="field-form" class="pd-form" >
                        <input type="hidden" name="projectid" id="projectid" value={{project.id}}>
                        {%for block in blocks %}
                            {%if project.id|checkprojectblock:block.id > 0%}
                                <div id="block_div{{block.id}}"><label class="pd-edit-blkname">Block Name:</label><span class="pd-blkname1">{{block.block_name}}</span>
                                    {% for field in block.id|get_field:block %}
                                    {% checkprojectfieldid block.id field.id project.id as fieldcount %}
                                        {% if fieldcount|datacount > 0 %}
                                            <div ><label class="pd-edit-field">Field Name:</label><span class="pd-field1">{{field.field_name}}</span>
                                                {% for fieldenvironment in field.id|get_environment:field %}
                                                    {% checkprojectenvironmentid field.id fieldenvironment.id project.id as fieldenvcount %}
                                                    {% if fieldenvcount|datacount > 0%}
                                                            <div class="eye-iconview"><div><h5 class="icon-hd field-env-cls">Field Environment</h5><h5 class="icon-tlt">{{fieldenvironment.project_environment}}-{{fieldenvironment.project_environment_subtype|default_if_none:"---"}}</h5></div>
                                                            <a class="btn ac-editfocus getdata-cls" data-toggle="collapse" href="#field_env_acc{{fieldenvironment.id}}" role="button" aria-expanded="false" aria-controls="collapseExample">
                                                            <span class="action-edit "><i class="fa fa-eye" style="font-size:17px; color:#95183a;"></i></span></a>
                                                            </div>
                                                            <div  class="collapse" id="field_env_acc{{fieldenvironment.id}}">
                                                                <div id="clusterdiv{{fieldenvironment.id}}" class="clusterdiv{{fieldenvironment.id}}">
                                                                    {% for cluster in fieldenvironment.id|getprojectcluster:fieldenvironment %}
                                                                        {% for key,val in cluster.items %}
                                                                            <h6 class="project-clu">{{key}}</h6>
                                                                            {% for clustersub in val %}
                                                                                <input type="checkbox" name="cluster-{{fieldenvironment.id}}" {% checkprojectcluster fieldenvironment.id clustersub.id project.id as clustercount %} {% if clustercount|datacount > 0%} checked=checked {% endif %} data-id="{{fieldenvironment.id}}" class="clusterclass{{fieldenvironment.id}} clusters-cls" value="{{clustersub.id}}">&emsp;<label class="clu-subname">{{clustersub.cluster_subname}}</label><br>
                                                                                {% with clustersub.id|developcount:"clustersub.id" as developmentcount %}
                                                                                {% if clustercount|datacount > 0%}
                                                                                    <div id="development-{{fieldenvironment.id}}-{{clustersub.id}}" class="col-12 development-cls accord-tab"><label for="staticEmail" class="col-12 dev-type" >Development Type</label>
                                                                                    <div class="row">
                                                                                    {% for development in clustersub.id|getprojectdevelopment:clustersub %}
                                                                                        <div class="col-{{developmentcount}}">
                                                                                            <input type="checkbox" name="development_type-{{fieldenvironment.id}}-{{clustersub.id}}" clusterid="{{clustersub.id}}" {% checkprojectdevelopment clustercount clustersub.id development.id project.id as developmentdatacount %} {% if developmentdatacount|datacount > 0%} checked=checked {% endif %} data-id="{{fieldenvironment.id}}" data-type="{{development.id}}" class="development-type" value="{{development.id}}">&emsp;<label class="col-form-label-dev devel-types">{{development.development_type|category_replace}}</label>
                                                                                            {% if developmentdatacount|datacount > 0%}
                                                                                            <div id="project_dis-{{development.id}}-{{fieldenvironment.id}}-{{clustersub.id}}" class="check-txt">
                                                                                                <label for="staticEmail" class="col-form-label proj-dis">Project Discipline </label><br>
                                                                                                {% comment %} {% for project_discipline in projectdiscipline %} {% endcomment %}
                                                                                                    {% for key in development|getprojectdiscipline:"project_discipline" %}
                                                                                                        <input type="checkbox"  name="project_discipline-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}" {% checkprojectdiscipline developmentdatacount development.id key.id project.id as disciplinecount%} {% if disciplinecount|datacount > 0%} checked=checked {% endif %} clusterid="{{clustersub.id}}" data-type="{{development.id}}" data-id="{{fieldenvironment.id}}" class=" project_dis-cls"  value="{{key.id}}">&emsp;<label class="dev-lists">{{key.name}}</label><br>
                                                                                                        {% if disciplinecount|datacount > 0%} 
                                                                                                        <div id="disciplinetype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}" class="check-txt dis-type-cls">
                                                                                                            {%for disciplinetype in key.id|projectdisciplinetype:key.id %}
                                                                                                                {%if key.id != 3 %}
                                                                                                                <div class="disc-subtype"><input type="checkbox" name="developmentsubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}"  clusterid="{{clustersub.id}}"  environment_id="{{fieldenvironment.id}}" class="projects_subtype" data-type="{{development.id}}" discipline_val="{{key.id}}" {% checkprojectdisciplinetype disciplinecount key.id disciplinetype.id project.id  as disciplinetypecount%}  {% if disciplinetypecount|datacount > 0%} checked=checked {% endif %} value="{{disciplinetype.id}}">&emsp;<label >{{disciplinetype.discipline_subtype}}</label></div>
                                                                                                                {% else %}
                                                                                                                <div class="disc-subtype"><input type="checkbox" name="otherdisciplinesubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}" clusterid="{{clustersub.id}}"  environment_id="{{fieldenvironment.id}}" class="others_subact" data-type="{{development.id}}" discipline_id="{{key.id}}" {% checkprojectdisciplinetype disciplinecount key.id disciplinetype.id project.id  as disciplinetypecount%} {% if disciplinetypecount|datacount > 0%} checked=checked {% endif %} value="{{disciplinetype.id}}">&emsp;<label >{{disciplinetype.discipline_subtype}}</label></div>
                                                                                                                {% endif %}
                                                                                                                {% if key.id == 1 %}
                                                                                                                    {% if disciplinetypecount|datacount > 0%}
                                                                                                                    
                                                                                                                        {% if disciplinetype.id == 2 %}
                                                                                                                            <div id="well{{key.id}}-{{development.id}}-{{disciplinetype.id}}" class="development-wells">
                                                                                                                                {% for well in development.id|get_well:development %}
                                                                                                                                    <div class="disc-subtype"><input type="checkbox" name="wells-{{key.id}}-{{development.id}}-{{disciplinetype.id}}" data-type="{{development.id}}" data-id={{disciplinetype.id}} class="wellclass"  {% checkprojectwell disciplinetypecount well.id project.id as wellcount %} {% if wellcount|datacount > 0%} checked=checked {% endif %} value="{{well.id}}"><label class="disc-left">{{well.well_name}}</label></div>  
                                                                                                                                    {% if wellcount|datacount > 0%}
                                                                                                                                        <div id="welltypes{{development.id}}-{{well.id}}-{{disciplinetype.id}}" class="wellstype-wellname">
                                                                                                                                        {% for wellsub in well.id|getwellsub:well %}
                                                                                                                                            <input type="checkbox" name="welltype{{well.id}}-{{disciplinetype.id}}" class="welltypes" data-id="{{disciplinetype.id}}" {% checkprojectwellsub wellcount wellsub.id project.id as wellsubcount %} {% if wellsubcount|datacount > 0%} wellcheckid="{{wellsubcount}}" checked=checked {% else%} wellcheckid="" {% endif %} value="{{wellsub.id}}">&emsp;<label>{{wellsub.well_subname}}</label><br>
                                                                                                                                            {% if wellsubcount|datacount > 0%}
                                                                                                                                                <div id="types_subtype{{wellsub.id}}-{{disciplinetype.id}}" class="well-activity-cls"><input id="check_all" name="check_all_welltypes" {% Disciplinesubactcount disciplinetype.id as wellsubactcount %} {% checkwellsubactcount wellsubcount project.id as checkedwellsubactcount %} {% if checkedwellsubactcount == wellsubactcount %} checked=checked {% endif %} data-id={{wellsub.id}} type="checkbox">&emsp;<label for="check_all">All</label><br>
                                                                                                                                                    {% for  wellactivities in disciplinetype.id|getdisciplinesubactivity:disciplinetype.id %}
                                                                                                                                                        <div class="disc-subtype"><input type="checkbox" name="typessubtype-{{wellsub.id}}-{{disciplinetype.id}}" id="types_subtype" class="types_subtype-{{wellsub.id}}" {% checkwellactivities wellsub.id wellactivities.id project.id as projectwellactcount %} {% if projectwellactcount|datacount > 0%} checked=checked {% endif %} value="{{wellactivities.id}}"><label class="disc-left">{{wellactivities.name}}</label></div>
                                                                                                                                                    {% endfor %}
                                                                                                                                                </div>
                                                                                                                                            {% endif %}
                                                                                                                                        {% endfor %}
                                                                                                                                        </div>
                                                                                                                                    {% endif %}
                                                                                                                                {% endfor %}
                                                                                                                            </div>
                                                                                                                        {% elif disciplinetype.id == 4 %}
                                                                                                                        <div id="id_disciplinesubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" class="check-txt dev-subsubtype-cls" data-id="{{disciplinetype.id}}"><input type="checkbox" id="check_all" name="check_all" environment_id="{{fieldenvironment.id}}" clusterid="{{clustersub.id}}"  discipline_id="{{key.id}}" {% Disciplinesubtypecount disciplinetype.id as totalsubtypecount%} {% CheckedDisciplinesubtypecount disciplinetypecount project.id as checkedsubtypecount %} {% if totalsubtypecount == checkedsubtypecount %} checked=checked {% endif %} data-id="{{disciplinetype.id}}" devid={{development.id}}>&emsp;<label for="check_all">All</label><br>
                                                                                                                            {% for disciplineactivites in disciplinetype.id|getdisciplineactivity:disciplinetype %}
                                                                                                                                <div class="disc-subtype"><input type="checkbox" name="disciplinesubsubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" check_text="{{disciplineactivites.sub_subtype_name}}"  id="discipline_sub_subtype{{disciplineactivites.id}}" class="discipline_subdiv-{{development.id}}-{{key.id}}-{{disciplinetype.id}}"  clusterid="{{clustersub.id}}" environment_id="{{fieldenvironment.id}}" data-type="{{development.id}}" discipline_id="{{key.id}}" subtype="{{disciplinetype.id}}"  data-id="{{disciplineactivites.id}}"  {% checkprojectdisciplineactivity disciplinetypecount disciplineactivites.id project.id as disciplineact %} {% if disciplineact|datacount > 0%} checked=checked {% endif %} value={{disciplineactivites.id}} ><label class="disc-left">{{disciplineactivites.sub_subtype_name}}</label></div>
                                                                                                                            {% endfor %}
                                                                                                                        </div>    
                                                                                                                        {% else %}
                                                                                                                        {% Disciplinesubtypecount disciplinetype.id as totalsubtypecount%}
                                                                                                                            {% if totalsubtypecount > 0 %}
                                                                                                                                <div id="id_disciplinesubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" class="check-txt dev-subsubtype-cls" data-id="{{disciplinetype.id}}">
                                                                                                                                    <input type="checkbox" id="check_all" name="check_all" environment_id="{{fieldenvironment.id}}"  clusterid="{{clustersub.id}}"  discipline_id="{{key.id}}" {% Disciplinesubtypecount disciplinetype.id as totalsubtypecount%} {% CheckedDisciplinesubtypecount disciplinetypecount project.id as checkedsubtypecount %} {% if totalsubtypecount == checkedsubtypecount %} checked=checked {% endif %} data-id="{{disciplinetype.id}}" devid={{development.id}}>&emsp;<label for="check_all">All</label><br>
                                                                                                                                {% for disciplineactivites in disciplinetype.id|getdisciplineactivity:disciplinetype %}
                                                                                                                                    <div class="disc-subtype"><input type="checkbox" name="disciplinesubsubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" check_text="{{disciplineactivites.sub_subtype_name}}"  id="discipline_sub_subtype{{disciplineactivites.id}}" class="discipline_subdiv-{{development.id}}-{{key.id}}-{{disciplinetype.id}} dev-sub-cls"  clusterid="{{clustersub.id}}" environment_id="{{fieldenvironment.id}}" data-type="{{development.id}}" discipline_id="{{key.id}}" subtype="{{disciplinetype.id}}"  data-id="{{disciplineactivites.id}}" {% checkprojectdisciplineactivity disciplinetypecount disciplineactivites.id project.id as disciplineact %} {{disciplineact}} {% if disciplineact|datacount > 0%} checked=checked {% endif %} value={{disciplineactivites.id}} ><label class="disc-left">{{disciplineactivites.sub_subtype_name}}</label></div>
                                                                                                                                    {% if disciplineact|datacount > 0%}
                                                                                                                                    <div id="disciplinesubdiv{{fieldenvironment.id}}_{{development.id}}_{{key.id}}-{{disciplinetype.id}}-{{disciplineactivites.id}}"  class="check-txt dev-subdiv-class"><input type="checkbox" id="check_all" name="check_all_types" clusterid="{{clustersub.id}}" subtype="{{disciplinetype.id}}" {% Disciplinesubactcount disciplinetype.id as totaldisciplinesubactcount%} {% checkdisciplinesubacttotalcount disciplineact project.id as dissubacttotalcount %} {% if totaldisciplinesubactcount == dissubacttotalcount%} checked=checked {% endif %} data-id="{{disciplineactivites.id}}" data-type="{{development.id}}" >&emsp;<label for="check_all">All</label><br>
                                                                                                                                        {% for disciplinesubactivites in disciplinetype.id|getdisciplinesubactivity:disciplineactivites %}
                                                                                                                                            <div class="disc-subtype"><input type="checkbox" name="typessubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}-{{disciplineactivites.id}}" id="types_subtype" class="types_subtype-{{clustersub.id}}-{{development.id}}-{{disciplinetype.id}}-{{disciplineactivites.id}} subsubtype-divison-cls" {% checkdisciplinesubactivites disciplineactivites.id disciplinesubactivites.id project.id as disciplinesubactcount %} {% if disciplinesubactcount|datacount > 0%} checked=checked {% endif %}  value="{{disciplinesubactivites.id}}"><label class="disc-left">{{disciplinesubactivites.name}}</label></div>
                                                                                                                                        {% endfor %}
                                                                                                                                        <!--checkdisciplinesubactivites { disciplineact}-->
                                                                                                                                    </div>
                                                                                                                                    {% endif %}
                                                                                                                                {% endfor %}
                                                                                                                                </div>
                                                                                                                            {% endif %}
                                                                                                                        {% endif%}
                                                                                                                    {% endif %}
                                                                                                                {% endif %}
                                                                                                                {% if key.id == 2 %}
                                                                                                                {% if disciplinetypecount|datacount > 0%}
                                                                                                                    {% if disciplinetype.id == 6 %}
                                                                                                                        <div id="well{{key.id}}-{{development.id}}-{{disciplinetype.id}}" class="development-wells">
                                                                                                                            <div class=""><input type="checkbox" name="wellsubtype-{{key.id}}-{{development.id}}-{{disciplinetype.id}}" clusterid="{{clustersub.id}}" data-type="{{development.id}}" environment_id="{{fieldenvironment.id}}" discipline_id="{{key.id}}"  data-id="14" subtype="{{disciplinetype.id}}" class="wellsub-activities-cls" {% checkbrownfullfield disciplinetypecount 14 project.id as fullfieldcount %} {% if fullfieldcount|datacount > 0 %} checked=checked {% endif %}value="14"><label class="disc-left">Full Field Development</label>
                                                                                                                            {% if fullfieldcount|datacount > 0 %}
                                                                                                                                <div id="disciplinesubdiv{{fieldenvironment.id}}_{{development.id}}_{{key.id}}-{{disciplinetype.id}}-14" class="check-txt dev-subdiv-class">
                                                                                                                                    <input type="checkbox" id="check_all" name="check_all_types" clusterid="{{clustersub.id}}" subtype="{{disciplinetype.id}}" {% Disciplinesubactcount disciplinetype.id as totaldisciplinesubactcount%} {% checkdisciplinesubacttotalcount fullfieldcount project.id as dissubacttotalcount %} {{dissubacttotalcount}} {% if totaldisciplinesubactcount == dissubacttotalcount%} checked=checked {% endif %} data-id="14" data-type="{{development.id}}" >&emsp;<label for="check_all">All</label><br>
                                                                                                                                {% for brownsubact in disciplinetype.id|getdisciplinesubactivity:disciplinetype %}
                                                                                                                                    <div class="disc-subtype"><input type="checkbox" name="wellsubtype_activity-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}-14" id="types_subtype" class="types_subtype-{{clustersub.id}}-{{development.id}}-{{disciplinetype.id}}-14 subsubtype-divison-cls" {% checkbrownsubactivites 14 brownsubact.id project.id as brownsubactcount %} {% if brownsubactcount|datacount > 0%} checked=checked {% endif %} value="{{brownsubact.id}}"><label class="disc-left">{{brownsubact.name}}</label></div>
                                                                                                                                {% endfor %}
                                                                                                                                </div>
                                                                                                                            {% endif %}
                                                                                                                            </div>
                                                                                                                            {% for well in development.id|get_browninfillwell:development %}
                                                                                                                                <div class="disc-subtype"><input type="checkbox" name="wells-{{key.id}}-{{development.id}}-{{disciplinetype.id}}" data-type="{{development.id}}" data-id="{{disciplinetype.id}}" class="wellclass" {{disciplinetypecount}}  {% checkprojectbrowninfill disciplinetypecount well.id project.id as infillwellcount %} {% if infillwellcount|datacount > 0%} checked=checked {% endif %}value="{{well.id}}"><label class="disc-left">{{well.well_name}}</label></div>
                                                                                                                                {% if infillwellcount|datacount > 0%}
                                                                                                                                <div id="welltypes{{development.id}}-{{well.id}}-{{disciplinetype.id}}" class="wellstype-wellname">
                                                                                                                                    {% for wellsub in well.id|getwellsub:well %}
                                                                                                                                    <input type="checkbox" name="welltype{{well.id}}-{{disciplinetype.id}}" class="welltypes" data-id="{{disciplinetype.id}}" {% checkprojectwellsub infillwellcount wellsub.id project.id as wellsubcount %} {% if wellsubcount|datacount > 0%} checked=checked {% endif %} value="{{wellsub.id}}">&emsp;<label>{{wellsub.well_subname}}</label><br>
                                                                                                                                    {% if wellsubcount|datacount > 0%}
                                                                                                                                        <div id="types_subtype{{wellsub.id}}-{{disciplinetype.id}}" class="well-activity-cls">
                                                                                                                                            <input id="check_all" name="check_all_welltypes" {% Disciplinesubactcount disciplinetype.id as wellsubactcount %} {% checkwellsubactcount wellsubcount project.id as checkedwellsubactcount %} {% if checkedwellsubactcount == wellsubactcount %} checked=checked {% endif %} data-id={{wellsub.id}} type="checkbox">&emsp;<label for="check_all">All</label><br>
                                                                                                                                            {% for  wellactivities in disciplinetype.id|getdisciplinesubactivity:disciplinetype.id %}
                                                                                                                                                <div class="disc-subtype"><input type="checkbox" name="typessubtype-{{wellsub.id}}-{{disciplinetype.id}}" id="types_subtype" class="types_subtype-{{wellsub.id}}" {% checkwellactivities wellsub.id wellactivities.id project.id as projectwellactcount %} {% if projectwellactcount|datacount > 0%} checked=checked {% endif %} value="{{wellactivities.id}}"><label class="disc-left">{{wellactivities.name}}</label></div>
                                                                                                                                            {% endfor %}
                                                                                                                                        </div>
                                                                                                                                    {% endif %}
                                                                                                                                    {% endfor %}
                                                                                                                                </div>
                                                                                                                                {% endif %}
                                                                                                                            {% endfor %}
                                                                                                                        </div>
                                                                                                                    {%elif disciplinetype.id == 7%}
                                                                                                                        <div id="well{{key.id}}-{{development.id}}-{{disciplinetype.id}}" class="development-wells">
                                                                                                                            {% for well in development.id|get_browndrillwell:development %}
                                                                                                                            <div class="disc-subtype"><input type="checkbox" name="wells-{{key.id}}-{{development.id}}-{{disciplinetype.id}}" data-type="{{development.id}}" data-id="{{disciplinetype.id}}" class="wellclass" {% checkprojectbrowninfill disciplinetypecount well.id project.id as infillwellcount %} {% if infillwellcount|datacount > 0%} checked=checked {% endif %}value="{{well.id}}"><label class="disc-left">{{well.well_name}}</label></div>
                                                                                                                            {% if infillwellcount|datacount > 0%}
                                                                                                                            <div id="welltypes{{development.id}}-{{well.id}}-{{disciplinetype.id}}" class="wellstype-wellname">
                                                                                                                                {% for wellsub in well.id|getwellsub:well %}
                                                                                                                                <input type="checkbox" name="welltype{{well.id}}-{{disciplinetype.id}}"  class="welltypes" data-id="{{disciplinetype.id}}" {% checkprojectwellsub infillwellcount wellsub.id project.id as wellsubcount %}  {% if wellsubcount|datacount > 0%} wellcheckid="{{wellsubcount}}" checked=checked {% else %} wellcheckid="" {% endif %} value="{{wellsub.id}}">&emsp;<label>{{wellsub.well_subname}}</label><br>
                                                                                                                                {% if wellsubcount|datacount > 0%}
                                                                                                                                    <div id="types_subtype{{wellsub.id}}-{{disciplinetype.id}}" class="well-activity-cls">
                                                                                                                                        <input id="check_all" name="check_all_welltypes" {% Disciplinesubactcount disciplinetype.id as wellsubactcount %} {% checkwellsubactcount wellsubcount project.id as checkedwellsubactcount %} {% if checkedwellsubactcount == wellsubactcount %} checked=checked {% endif %}  data-id={{wellsub.id}} type="checkbox">&emsp;<label for="check_all">All</label><br>
                                                                                                                                        {% for  wellactivities in disciplinetype.id|getdisciplinesubactivity:disciplinetype.id %}
                                                                                                                                            <div class="disc-subtype"><input type="checkbox" name="typessubtype-{{wellsub.id}}-{{disciplinetype.id}}" id="types_subtype" class="types_subtype-{{wellsub.id}}" {% checkwellactivities wellsub.id wellactivities.id project.id as projectwellactcount %} {% if projectwellactcount|datacount > 0%} checked=checked {% endif %} value="{{wellactivities.id}}"><label class="disc-left">{{wellactivities.name}}</label></div>
                                                                                                                                        {% endfor %}
                                                                                                                                    </div>
                                                                                                                                {% endif %}
                                                                                                                                {% endfor %}
                                                                                                                            </div>
                                                                                                                            {% endif %}
                                                                                                                            {% endfor %}
                                                                                                                        </div>
                                                                                                                    {%elif disciplinetype.id == 9 %}
                                                                                                                    <div id="id_disciplinesubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" class="check-txt dev-subsubtype-cls" data-id="{{disciplinetype.id}}"><input type="checkbox" id="check_all" name="check_all" environment_id="{{fieldenvironment.id}}" clusterid="{{clustersub.id}}"  discipline_id="{{key.id}}"  {% Disciplinesubtypecount disciplinetype.id as totalsubtypecount%} {% CheckedDisciplinesubtypecount disciplinetypecount project.id as checkedsubtypecount %} {% if totalsubtypecount == checkedsubtypecount %} checked=checked {% endif %} data-id="{{disciplinetype.id}}" devid={{development.id}}>&emsp;<label for="check_all">All</label><br>
                                                                                                                        {% for disciplineactivites in disciplinetype.id|getdisciplineactivity:disciplinetype %}
                                                                                                                            <div class="disc-subtype"><input type="checkbox" name="disciplinesubsubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" check_text="{{disciplineactivites.sub_subtype_name}}"  id="discipline_sub_subtype{{disciplineactivites.id}}" class="discipline_subdiv-{{development.id}}-{{key.id}}-{{disciplinetype.id}} dev-sub-cls"  clusterid="{{clustersub.id}}" environment_id="{{fieldenvironment.id}}" data-type="{{development.id}}" discipline_id="{{key.id}}" subtype="{{disciplinetype.id}}"  data-id="{{disciplineactivites.id}}" {{disciplinetypecount}} {% checkprojectdisciplineactivity disciplinetypecount disciplineactivites.id project.id as disciplineact %} {{disciplineact}} {% if disciplineact|datacount > 0%} checked=checked {% endif %} value={{disciplineactivites.id}} ><label class="disc-left">{{disciplineactivites.sub_subtype_name}}</label></div>
                                                                                                                        {% endfor %}
                                                                                                                    </div>
                                                                                                                    {% else %}
                                                                                                                    {% Disciplinesubtypecount disciplinetype.id as totalsubtypecount%}
                                                                                                                        {% if totalsubtypecount > 0 %}
                                                                                                                        <div id="id_disciplinesubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" class="check-txt dev-subsubtype-cls" data-id="{{disciplinetype.id}}"><input type="checkbox" id="check_all" name="check_all" environment_id="{{fieldenvironment.id}}" clusterid="{{clustersub.id}}"  discipline_id="{{key.id}}"   {% CheckedDisciplinesubtypecount disciplinetypecount project.id as checkedsubtypecount %} {% if totalsubtypecount == checkedsubtypecount %} checked=checked {% endif %} data-id="{{disciplinetype.id}}" devid={{development.id}}>&emsp;<label for="check_all">All</label><br>
                                                                                                                            {% for disciplineactivites in disciplinetype.id|getdisciplineactivity:disciplinetype %}
                                                                                                                                <div class="disc-subtype"><input type="checkbox" name="disciplinesubsubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" check_text="{{disciplineactivites.sub_subtype_name}}"  id="discipline_sub_subtype{{disciplineactivites.id}}" class="discipline_subdiv-{{development.id}}-{{key.id}}-{{disciplinetype.id}} dev-sub-cls"  clusterid="{{clustersub.id}}" environment_id="{{fieldenvironment.id}}" data-type="{{development.id}}" discipline_id="{{key.id}}" subtype="{{disciplinetype.id}}"  data-id="{{disciplineactivites.id}}" 
                                                                                                                                     {% checkprojectdisciplineactivity disciplinetypecount disciplineactivites.id project.id as disciplineact %}  {{disciplineact}} {% if disciplineact|datacount > 0%} checked=checked {% endif %} value={{disciplineactivites.id}} ><label class="disc-left">{{disciplineactivites.sub_subtype_name}}</label></div>
                                                                                                                                {% if disciplineact|datacount > 0%}
                                                                                                                                <div id="disciplinesubdiv{{fieldenvironment.id}}_{{development.id}}_{{key.id}}-{{disciplinetype.id}}-{{disciplineactivites.id}}" class="check-txt dev-subdiv-class">
                                                                                                                                    <input type="checkbox" id="check_all" name="check_all_types" clusterid="{{clustersub.id}}" data-id="{{disciplinetype.id}}" subtype="{{disciplineactivites.id}}" {% Disciplinesubactcount disciplinetype.id as totaldisciplinesubactcount%} {% checkdisciplinesubacttotalcount disciplineact project.id as dissubacttotalcount %} {% if totaldisciplinesubactcount == dissubacttotalcount%} checked=checked {% endif %}  data-type="{{development.id}}" >&emsp;<label for="check_all">All</label><br>
                                                                                                                                    {% for disciplinesubactivites in disciplinetype.id|getdisciplinesubactivity:disciplineactivites %}
                                                                                                                                    <div class="disc-subtype"><input type="checkbox" name="typessubtype-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}-{{disciplineactivites.id}}" id="types_subtype" class="types_subtype-{{clustersub.id}}-{{development.id}}-{{disciplineactivites.id}}-{{disciplinetype.id}} subsubtype-divison-cls" {% checkdisciplinesubactivites disciplineactivites.id disciplinesubactivites.id project.id as disciplinesubactcount %} {% if disciplinesubactcount|datacount > 0%} checked=checked {% endif %}  value="{{disciplinesubactivites.id}}"><label class="disc-left">{{disciplinesubactivites.name}}</label></div>
                                                                                                                                    {% endfor %}
                                                                                                                                    <!--disciplineact-->
                                                                                                                                </div>
                                                                                                                                {% endif %}
                                                                                                                            {% endfor %}
                                                                                                                        </div>
                                                                                                                        {% endif %}
                                                                                                                    {% endif %}
                                                                                                                {% endif %}
                                                                                                                {% endif %}
                                                                                                                {%if key.id == 3 %}
                                                                                                                
                                                                                                                    {% if disciplinetypecount|datacount > 0%}
                                                                                                                    {% disciplinesubactivitescount disciplinetype.id as subactcount %}
                                                                                                                    {% if subactcount > 0%}
                                                                                                                    <div id="disciplinesubdiv{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" class="check-txt dev-subdiv-class" data-id="{{disciplinetype.id}}">
                                                                                                                        <input type="checkbox" id="check_all" name="other_check_all_types" environment_id="{{fieldenvironment.id}}"  clusterid="{{clustersub.id}}"  disciplineid="{{key.id}}"  data-id="{{disciplinetype.id}}" {% disciplinesubactivitescount disciplinetype.id as subactcount %} {% checkotherallsubactivites disciplinetype.id project.id as otherallsubactcount %} {% if subactcount == otherallsubactcount %} checked=checked {% endif %} data-type={{development.id}}>&emsp;<label for="check_all">All</label><br>
                                                                                                                        {% for disciplinesubactivites in disciplinetype.id|getdisciplinesubactivity:disciplinetype %}
                                                                                                                            <div class="disc-subtype"><input type="checkbox" name="otherstypeactivities-{{fieldenvironment.id}}-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}}" {% checkothersubactivites disciplinetypecount disciplinesubactivites.id project.id as othersubactcount %} {% if othersubactcount|datacount > 0%} checked=checked {% endif %} class="other_subtype-{{clustersub.id}}-{{development.id}}-{{key.id}}-{{disciplinetype.id}} subsubtype-divison-cls" value={{disciplinesubactivites.id}}><label class="disc-left">{{disciplinesubactivites.name}}</label></div>
                                                                                                                        {% endfor %}
                                                                                                                    </div>
                                                                                                                    {% endif %}
                                                                                                                    {% endif %}
                                                                                                                {% endif %}
                                                                                                            {% endfor %}
                                                                                                        </div>
                                                                                                        {% endif %}
                                                                                                    {% endfor %}
                                                                                                {% comment %} {% endfor %} {% endcomment %}
                                                                                            </div>
                                                                                            {% endif %}
                                                                                        </div>
                                                                                    {% endfor %}
                                                                                    </div>
                                                                                    </div>
                                                                                {% endif %}
                                                                                {% endwith %}
                                                                            {% endfor %}
                                                                        {% endfor %}
                                                                    {% endfor %}
                                                                </div>
                                                            </div>
                                                    {% endif %}
                                                {% endfor %}
                                            </div>
                                        {% endif %}
                                     {% endfor %}
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                <div class="text-center spacing-button">
                    <button class="btn btn-clr text-center final_submit_cls" type="submit">Save & Next</button>
                </div>
            </section>
        </form>

{% endblock %}
{% block scripts %}
{{ block.super }}
<script src="{% static 'js/projects/editmultistepproject.js' %}"></script>
{% endblock %}
            