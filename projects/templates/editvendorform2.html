<html>
<body>
    {% load static %}
    {% load widget_tweaks %}
    <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0,minimal-ui">
    <meta name="description" content="Vuexy admin is super flexible, powerful, clean &amp; modern responsive bootstrap 4 admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Vuexy admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="PIXINVENT">
    <title>IROCK</title>
    <link rel="apple-touch-icon" href="../../../app-assets/images/ico/apple-icon-120.png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;1,400;1,500;1,600" rel="stylesheet">
   <!-- BEGIN: Theme CSS-->
   <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-extended.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/colors.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/components.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/themes/dark-layout.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/themes/semi-dark-layout.css' %}">

  <!-- BEGIN: Page CSS-->
  <link rel="stylesheet" type="text/css" href="{% static 'css/core/menu/menu-types/vertical-menu.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/core/colors/palette-gradient.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/pages/authentication.css' %}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
   <!-- END: Page CSS-->
   <!-- BEGIN: Custom CSS-->
   <link rel="stylesheet" type="text/css" href="{% static 'vendors/css/forms/select/select2.min.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">
   <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

 <!--bootstrap style cdn-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">
    </head>
    <div class="row">
    </div>
        <h3 class="from-head">Vendor Company Contact Information</h3>
        <form  class="form-txt" id="vendorresitraion2">
            {% csrf_token %}
        <div class="row out-vendor">
            <div class="col-sm-6"> 
                <h4 class="vend-com-heading">Key/Primary Contact Details:</h4>
            </div>
            <div class="col-sm-6"> 
                <h4 class="vend-com-heading">Alternate/Secondary Contact Details:</h4>
            </div>
        </div>
            
        <div class="row out-vendor">
            <div class="col-sm-6 mid-line">
                <div class="row vendor_bottom_space">
                    <div class="col-2">
                        <input type="hidden" name="vendor" id="vendorid" value="{{vendor.id}}">
                        <input type="hidden" name="vendor" id="userid" value="{{userid}}">
                        <label for="staticEmail" class="col-form-label">Title<span class="star-clr">*</span></label>
                        <select name="Tile" id="Tile"  class="form-control">
                            {% for title in titles %}
                                <option {% if vendor.contact_primary_title == title%} selected {% endif %} value="{{title}}">{{title}}</option>
                            {% endfor %}
                        </select>
                      </div>
                      
                <div class="col-3">
                  <label for="staticEmail" class="col-form-label">First Name<span class="star-clr">*</span></label>
                  <input type="text" id="firstname" name="firstname" class="form-control" placeholder="First Name" value="{{vendor.contact_primary_first_name}}">
                </div>
                
                <div class="col-3">
                  <label for="staticEmail" class="col-form-label">Middle Name<span class="star-clr"></span></label>
                  <input type="text" id="middlename" name="middlename" class="form-control" placeholder="Middle Name" value="{{vendor.contact_primary_middle_name}}">
                </div>
                <div class="col-3">
                  <label for="staticEmail" class="col-form-label">Last Name<span class="star-clr">*</span></label>
                  <input type="text" id="lastname" name="lastname" class="form-control" placeholder="Last Name" value="{{vendor.contact_primary_last_name}}">
                </div>
                  </div>
                  <div class="vendor_bottom_space">
                  <label for="staticEmail" class="col-form-label">Designation<span class="star-clr">*</span></label>
                  <input type="text" id="Designation" name="Designation" class="form-control" placeholder="Designation" value="{{vendor.primary_designation}}" ></div>
                  <div class="vendor_bottom_space">
                  <label for="staticEmail" class="col-form-label">Official Email Address*</label>
                  <input type="email" id="Email" name="Email" class="form-control" placeholder="Official Email Address" value="{{vendor.official_primary_email}}">
                  </div>
                  <div class="row vendor_bottom_space">
                    <div class="col-3">
                        <label for="staticEmail" class="col-form-label">Country Code<span class="star-clr">*</span></label>
                        <select id="phonecountrycode" name="phonecountrycode" class="form-control">
                            {% for code in phone%}
                            <option  {%if vendor.contact_primary_phone_code == code.id %} selected {% endif %} value="{{code.id}}">{{code.iso}}  {{code.phonecode}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    
                    <div class="col-3">
                        <label for="staticEmail" class="col-form-label">Area Code<span class="star-clr">*</span></label>
                        <input type="text" id="phone areacode" name="phoneareacode" class="form-control" placeholder="Area Code" value="{{vendor.contact_primary_area_code}}">
                    </div>
    
                    
           
                    <div class="col-6">
                <label for="staticEmail" class="col-form-label">Official Phone Number(Land Line)<span class="star-clr">*</span></label>
                <input type="text" id="phone" name="phone" class="form-control" placeholder="Official Phone Number(Land Line)" value="{{vendor.contact_primary_phone}}">
            </div>
            </div>
            <div class="row vendor_bottom_space">
                <div class="col-3">
                        <label for="staticEmail" class="col-form-label">Country Code<span class="star-clr">*</span></label>
                        <select id="mobilecoutrycode" name="mobilecoutrycode" class="form-control">
                            {% for code in phone%}
                            <option {%if vendor.contact_primary_mobile_code == code.id %} selected {% endif %} value="{{code.id}}">{{code.iso}}  {{code.phonecode}}</option>
                            {% endfor %}
                        </select>
                </div>
                
                <div class="col-8">
                    <label for="staticEmail" class="col-form-label">Official Phone Number(Mobile No.)<span class="star-clr">*</span></label>
                
        
                    <input type="text" id="mobile" name="mobile" class="form-control" placeholder="Official Phone Number(Mobile No.)" value="{{vendor.contact_primary_mobile}}">
                </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="row vendor_bottom_space">
                <div class="col-2">
                <label for="staticEmail" class="col-form-label">Title<span class="star-clr">*</span></label>
                <select name="Title" id="Title"  class="form-control" placeholder="Title">
                    {% for title in titles %}
                    <option {% if vendor.contact_secondary_title == title%} selected {% endif %} value="{{title}}">{{title}}</option>
                {% endfor %}
                </select>
                </div>
                <div class="col-3">
                <label for="staticEmail" class="col-form-label">First Name<span class="star-clr">*</span></label>
                <input type="text" id="alternatefirstname" name="alternatefirstname" class="form-control" placeholder="First Name" value="{{vendor.contact_secondary_first_name}}">
                </div>
                <div class="col-3">
                    <label for="staticEmail" class="col-form-label">Middle Name<span class="star-clr"></span></label>
                    <input type="text" id="alternatemiddlename" name="alternatemiddlename" class="form-control" placeholder="Middle Name" value="{{vendor.contact_secondary_middle_name}}">
                    </div>
                    <div class="col-3">
                        <label for="staticEmail" class="col-form-label">Last Name<span class="star-clr">*</span></label>
                        <input type="text" id="alternatelastname" name="alternatelastname" class="form-control" placeholder="Last Name" value="{{vendor.contact_secondary_last_name}}">
                        </div>
            </div>
            <div class="vendor_bottom_space">
                <label for="staticEmail" class="col-form-label">Designation<span class="star-clr">*</span></label>
                <input type="text" id="alternateDesignation" name="alternateDesignation" class="form-control" placeholder="Designation" value="{{vendor.secondary_designation}}"></div>
                <div class="vendor_bottom_space">
                <label for="staticEmail" class="col-form-label">Official Email Address<span class="star-clr">*</span></label>
                <input type="email" id="alternateEmail" name="alternateEmail" class="form-control" placeholder="Official Email Address" value="{{vendor.official_secondary_email}}">
                </div>
                <div class="row vendor_bottom_space">
                    <div class="col-3">
                        <label for="staticEmail" class="col-form-label">Country Code<span class="star-clr">*</span></label>
                        <select id="phonecountryalternatecode" name="phonecountryalternatecode" class="form-control" placeholder="Country Code">
                            {% for code in phone%}
                            <option {%if vendor.contact_secondary_phone_code == code.id %} selected {% endif %} value="{{code.id}}">{{code.iso}} {{code.phonecode}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-3">
                        <label for="staticEmail" class="col-form-label">Area Code<span class="star-clr">*</span></label>
                        <input type="text" id="alternatephone areacode" name="alternatephoneareacode" class="form-control" placeholder="Area Code" value="{{vendor.contact_secondary_area_code}}">
                    </div>
                    <div class="col-6">
                <label for="staticEmail" class="col-form-label">Official Phone Number(Land Line)<span class="star-clr">*</span></label>
                <input type="text" id="alternatephone" name="alternatephone" class="form-control" placeholder="Official Phone Number(Land Line)" value="{{vendor.contact_secondary_phone}}">
            </div>
            </div>
            <div class="row vendor_bottom_space">
                <div class="col-3">
              
            
    
            
                    <label for="staticEmail" class="col-form-label">Country Code<span class="star-clr">*</span></label>
                    <select id="alternate_country_code" name="alternate_country_code" class="form-control">
                        {% for code in phone%}
                        <option {%if vendor.contact_secondary_mobile_code == code.id %} selected {% endif %}  value="{{code.id}}">{{code.iso}} {{code.phonecode}}</option>
                        {% endfor %}
                    </select>
            </div>
            <div class="col-8">
                <label for="staticEmail" class="col-form-label">Official Phone Number(Mobile No.)<span class="star-clr">*</span></label>
            
    
                <input type="text" id="alternatemobile" name="alternatemobile" class="form-control" placeholder="Official Phone Number(Mobile No.)" value="{{vendor.contact_secondary_mobile}}">
            </div>
            </div>
            </div>
           
        </div>
    
        
    <div class="row">
        <div class="text-center btn-cls">
            <button type="button" class="btn btn-clr text-center next-cls" >Save and Next</button>
        </div>
    </div>
    
    
                
            
          </form>

          <footer class="footer footer-static footer-light">
            <p class="footer-txt"><span class="">Copyright &copy; 2021<a class="middle-txt" href="http://www.iwellsmc.com" target="_blank">iWells Integrated Management Consultants DMCC,</a>All rights Reserved</span>
            {% comment %} <button class="btn btn-primary btn-icon scroll-top" type="button"><i class="feather icon-arrow-up"></i></button> {% endcomment %}
            </p>
        </footer>
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script> 
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
        <script src="https://jqueryvalidation.org/files/dist/jquery.validate.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    

    <script>

        $.validator.addMethod(
            "regex",
            function(value, element, regexp) {
                return this.optional(element) || regexp.test(value);
            },
            "Please check your input."
        );
$("#vendorresitraion2").validate({
    rules: {
        Tile: {
        required: true,
        },
        firstname: {
          required:true,
        },
        lastname: {
            required: true,
        },
        Designation:{
            required:true,
        },
        Email:{
            required:true,
            email: true,
            regex:/^[.-\w]+@[\w\-]{3,}((.)\w{2,})+$/,
        },
        phonecountrycode:{
            required:true,
        },
        phoneareacode:{
            required:true,
        },        
        phone:{
            required:true,
        },
        mobilecoutrycode:{
            required:true,
        },
        mobile:{
            required:true,
        },
        Title:{
            required:true,
        },
        alternatefirstname:{
            required:true,
        },
        alternatelastname:{
            required:true,
        },
        alternateDesignation:{
            required:true,
        },
        alternateEmail:{
            required:true,
            email: true,
            regex:/^[.-\w]+@[\w\-]{3,}((.)\w{2,})+$/,
        },
        phonecountryalternatecode:{
            required:true,
        },
        alternatephoneareacode:{
            required:true,
        },
        alternatephone:{
            required:true,
        },
        alternate_country_code:{
            required:true,
        },
        alternatemobile:{
            required:true,
        },

    },
    messages: {
        Tile:{
            required:"Required Field",
        },
        firstname:{
            required:"Required Field",
        },
        lastname:{
            required:"Required Field",
        },
        Designation:{
            required:"Required Field",
        },
        Email:{
          required:"Required Field",
          email: "Please Provide an Valid Email id",
          regex:"Please Provide an Valid Email id",
 
        },
        phonecountrycode: {
          required: "Required Field",
        },        
        phoneareacode:{
            required:"Required Field",
        },        
        phone:{
            required:"Required Field",
        },
        mobilecoutrycode:{
            required:"Required Field",
        },
        mobile:{
            required:"Required Field",
        },
        Title:{
            required:"Required Field",
        },
        alternatefirstname:{
            required:"Required Field",
        },
        alternatelastname:{
            required:"Required Field",
        },
        alternateDesignation:{
            required:"Required Field",
        },
        alternateEmail:{
            required:"Required Field",
            email: "Please Provide an Valid Email id",
            regex:"Please Provide an Valid Email id",
        },
        phonecountryalternatecode:{
            required:"Required Field",
        },
        alternatephoneareacode:{
            required:"Required Field",
        },
        alternatephone:{
            required:"Required Field",
        },
        alternate_country_code:{
            required:"Required Field",
        },
        alternatemobile:{
            required:"Required Field",
        },

        errorElement : 'span',
        },
});

var datas;
    $(".next-cls").click(function(){  
        if($("#vendorresitraion2").valid()){ 
            datas = true; 
        }
        else{
            datas =false;
        }
    })


    $(document).on("click" ,".next-cls" ,function(){
    var vendorid=$('#vendorid').val();
    var userid=$('#userid').val()
    $(this).prop('disabled', true);
    console.log(userid)
    console.log(vendorid)
    var form= $("#vendorresitraion2");
    if(datas == true ){
        url='/projects/'+userid+'/editoutervendorregistration/'+vendorid
        $.ajax({
            type:"POST",
            url:url,
            data:form.serialize(),
            success: function(data){
                console.log(data)
                    var current_url=$(location).attr("href")
                    var url = current_url.replace('editoutervendorregistration/'+vendorid,'outervendorservice/'+vendorid);
                    document.location.href = url;
            }
        })
    }
    });


    
    
    </script>

</body>
</html>