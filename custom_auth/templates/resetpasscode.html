{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
<!-- BEGIN: Head-->
 
<head>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
   <title>Reset Password</title>
   <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600" rel="stylesheet">
   <link rel="shortcut icon" type="image/x-icon" href="{% static 'images/logo/irock.png' %}">
 
   <!-- BEGIN: Vendor CSS-->
   <link rel="stylesheet" type="text/css" href="{% static 'vendors/css/vendors.min.css' %}">
   <!-- END: Vendor CSS-->
 
   <!-- BEGIN: Theme CSS-->
   <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-extended.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/colors.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/components.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/themes/dark-layout.css' %}">
   <link rel="stylesheet" type="text/css" href="{% static 'css/themes/semi-dark-layout.css' %}">

  <!-- BEGIN: Page CSS-->
  <link rel="stylesheet" type="text/css" href="{% static 'css/core/menu/menu-types/vertical-menu.css' %}">
  <!-- <link rel="stylesheet" type="text/css" href="{% static 'css/core/colors/palette-gradient.css' %}"> -->
  <!-- <link rel="stylesheet" type="text/css" href="{% static 'css/pages/authentication.css' %}"> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
   <!-- END: Page CSS-->
   <!-- BEGIN: Custom CSS-->
   <!-- <link rel="stylesheet" type="text/css" href="{% static 'vendors/css/forms/select/select2.min.css' %}"> -->
   <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">
   <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

   <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">

   <!-- END: Custom CSS-->
 
</head>
<!-- END: Head-->
 
<!-- BEGIN: Body-->
 
<body class="vertical-layout vertical-menu-modern 1-column  navbar-floating footer-static bg-full-screen-image  menu-collapsed blank-page blank-page" data-open="click" data-menu="vertical-menu-modern" data-col="1-column">
   <!-- BEGIN: Content-->
   <div class="app-content content">
       <div class="content-overlay"></div>
       <div class="header-navbar-shadow"></div>
       <div class="content-wrapper">
           <div class="content-header row">
           </div>
           <div class="content-body rg-bk">
               <section class="row flexbox-container">
                   <div class="col-xl-8 col-10 d-flex justify-content-center">
                       <div class="card bg-authentication m-0 reg-box">
                           <div class="row">

                               <div class="col-lg-12 col-12">
                                   <div class="reg-card">
                                       <!-- <div class="card-header"> -->
                             
                            

                                           <div class="card-title">
                            
                                               <h1 class="reg-head text-center">Reset Password</h1>
                                   
                                           </div>
                                       <!-- </div> -->
                                       
                                       <div class="card-content ">
                                            <div class="row">
                                                <div class="col-9">
                                                </div>
                                                <div class="col-3">
                                                    <!-- <button type="button" class="btn btn-color btn-enq" style="float: right;margin-right: 21px;"><a href="{% url 'custom_auth:login' %}" >Back</a></button> -->
                                                    {% comment %}    <a class=" btn-enq" href="{% url 'custom_auth:login' %}" >Back</a>     {% endcomment %}
                                                </div>
                                            </div>
                                           <div class="card-body pt-0">
                                               <form method="POST" name="registerform"  class="reg-form enq-pro restpasswordform" enctype="multipart/form-data" >
                                                {% csrf_token %}
                                                <div class="row">
                                                    <div class="col-2"></div>
                                                    <div class="col-8">
                                                        <div class="form-group">
                                                            <div class="controls re-parenteye">
                                                                <div class="row">
                                                                 <div class="col-12">   
                                                            <label for="inputCompanyName">New Password<span class="star-clr">*</span></label> 
                                                            <input type="password" name="newpasscode" class="form-control email_checking pass1" id="confirmpass">
                                                            <span id="toggle_pwd" class="fa fa-fw fa-eye field_icon2 eye" style="cursor: pointer;"></span>
                                                            </div>
                                                            </div>
                                                            <div class="row par-iiy">
                                                                <div class="col-12">
                                                            <label for="inputCompanyName">Confirm Password<span class="star-clr">*</span></label> 
                                                            <input type="password" name="passcode" class="form-control email_checking pass2" id="newpass">
                                                            <span id="toggle_pwd" class="fa fa-fw fa-eye field_icon3 eye1" style="cursor: pointer;"></span>
                                                            </div>
                                                            </div>
                                                           </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-2"></div>
                                                </div>

                                                 <div class="text-center spacing-button">
                                                    <button type="submit" id="idsubmit" class="btn btn-inline mb-50 btn-color btn-enq-sub">Submit</button>
                                                </div>
                                               </form>
                                           </div>
                                       </div>
                                   </div>
                               </div>
                           </div>
                       </div>
                   </div>
               </section>
 
           </div>
       </div>
   </div>
   <!-- END: Content-->
 
   <!-- BEGIN: Vendor JS-->
   <script src="{% static 'vendors/js/vendors.min.js' %}"></script>
   <!-- BEGIN Vendor JS-->
   <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js" ></script>
   <script>
   /* $(document).ready(function() {
        $('#idsubmit').attr('disabled', true);    
    }); */
     $( ".eye" ).click(function() {
        //let value = $(this).prev().attr('type','password');
        //console.log(value);
        //console.log($(this).prev().attr('type'))
        if ($('.pass1').attr('type')=='password'){
            $('.pass1').attr('type','text');
            $(this).addClass('fa-eye-slash');


        }
        else {
            $('.pass1').attr('type','password');
            $(this).removeClass('fa-eye-slash');
        }
        });


        $( ".eye1" ).click(function() {
            //let value = $(this).prev().attr('type','password');
            //console.log(value);
            //console.log($(this).prev().attr('type'))
            if ($('.pass2').attr('type')=='password'){
                $('.pass2').attr('type','text');
                $(this).addClass('fa-eye-slash');
    
    
            }
            else {
                $('.pass2').attr('type','password');
                $(this).removeClass('fa-eye-slash');
            }
            });
       /* $("#newpass").on("keyup change", function(e) {
            if($(this).val()==$('#confirmpass').val()){
                console.log('matched')
                $('#idsubmit').attr('disabled', false);
                $('#email-error-span').html(' ');
            }
            else{
                console.log('Password must be same');
                $('#idsubmit').attr('disabled', true);    
                $('#email-error-span').html('Password Mismatch');
            }
        }) */
        $.validator.addMethod(
    "regex",
    function(value, element, regexp) {
        return this.optional(element) || regexp.test(value);
    },
    "Accept Only Numbers"
);


        $(".restpasswordform").validate({
            rules: {
                newpasscode: {
                  required:true,
                  minlength: 8,
                  regex:/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*()_+,.\\\/;':"-]).{8,}$/
                },
                passcode: {
                    required: true,
                    equalTo: "#confirmpass",
                },      
            },
            messages: {
                newpasscode: {
                  required: "Please Provide a Password",
                  minlength: "Please Enter Atleast 8 Characters",
                  regex: "Password should have minimum 8 letters and should have atleast one from A-Z, a-z, 0-9 and special characters",
        
                },
                passcode: {
                    required: "Confirm Password Required",
                    equalTo: "Password Mismatch",
                },
                errorElement : 'span',
                },
            submitHandler: function(form) {
                $('#idsubmit').attr('disabled','disabled');
                Swal.fire({
                    position: 'top',
                    icon: 'success',
                    title: 'Password Changed',
                    //showConfirmButton: true,
                    timer:6000
                    })
                form.submit();
            }
        })


   </script>
   <!-- BEGIN: Page Vendor JS-->
   <!-- END: Page Vendor JS-->
 
   <!-- BEGIN: Theme JS-->
   <!-- <script src="{% static 'js/core/app-menu.js' %}"></script>

   <script src="{% static 'js/core/app.js' %}"></script>
   <script src="{% static 'js/custom.js' %}"></script>


   <script src="{% static 'js/scripts/components.js' %}"></script>
   <!-- END: Theme JS-->
   <!-- <script src="{% static 'vendors/js/forms/validation/jquery.validate.min.js' %}"></script> -->
   <!-- <script src="{% static 'vendors/js/forms/select/select2.full.min.js' %}"></script> -->
   <!-- <script src="{% static 'js/scripts/forms/select/form-select2.js' %}"></script> --> -->

   <!-- BEGIN: Page JS-->
   <!-- END: Page JS-->


</body>
<!-- END: Body-->
<style>
 .card
 {
     width:100%;
 }
 /* body {
    {% comment %} background-image: url("{% static 'images/iwells-map.jpg' %}"); {% endcomment %}
    background-size: cover;
    background-position: center;
}    */
.totalusersdiv,.operatorsubtype,.operatortype
{
    display: none;
}

toggle_pwd {
    cursor: pointer;
    color: #af2b50;
    font-size: 19px;
    position: absolute;
    right: 20px;
    top: 45px;
}
</style>
</html>